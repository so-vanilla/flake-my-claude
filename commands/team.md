Agent Teamsセッションのオーケストレータとして動作する。

## 入力
$ARGUMENTS にプランファイルのパスが指定される。

## 手順

1. プランファイルを読み込む
2. タスクを分析し、並列化可能な作業単位に分解する
   - 各作業単位は独立したファイル群を所有する（同一ファイルを複数ワーカーに割り当てない）
   - 共有ファイルが避けられない場合はタスク依存関係で順序制御する
   - 1ワーカーあたり5-6タスクを目安にする
3. Agent Teamsのワーカーを生成する（推奨: 2-3人、最大5人）:
   - ワーカーは会話履歴を継承しない。スポーンプロンプトにプロジェクト構造・規約・担当ファイル・目標を明示する
   - ワーカーはセッション開始時にのみ生成可能（途中追加不可）なため、必要なワーカーをすべて初期に生成する
   - ワーカー名はロールを反映した分かりやすい名前にする
4. タスクリストとメッセージでワーカーの進捗を監視する
   - ワーカーがタスク完了をマークし忘れることがある — 実際の進捗を確認し必要に応じて手動更新する
5. iterativeなタスク（テスト通過、リファクタリング等）には /ralph-loop の活用を検討する
   - 必ず --max-iterations を設定する（安全弁）
   - プログラム的に成功を検証できるタスクに適する（テスト、ビルド、lint等）
6. ワーカーの決定事項と成果物をユーザーに報告する

## ガイドライン

- ファイル所有権の厳守: 2人のワーカーが同じファイルを編集すると片方の作業が無駄になる（最も多い失敗原因）
- 責任範囲が重複する多数のワーカーより、明確なスコープを持つ少数のワーカーを優先する
- ワーカーが完了したら、その出力を統合してユーザーに報告する
- ワーカーが問題に遭遇した場合、介入するか作業を再割り当てする
- 各ワーカーが何を決定・生成したかの要約を必ずユーザーに提供する
- Delegate modeは既知のバグがあるため使用しない
- Agent Teams使用時は /resume, /rewind が機能しない — 新しいセッションで開始する
- コスト: ワーカー数に比例してトークン消費が増加する（3人で約3-4倍）
